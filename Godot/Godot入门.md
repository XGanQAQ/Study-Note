# Godot入门
godot开源

[Godot的手册](https://docs.godotengine.org/zh-cn/4.x/index.html)

# 入门前言

## 设计理念
Godot的设计理念和Unity不同  
它是采用场景+节点的树形结构

### 场景
场景可以是一个角色、一件武器、用户界面中的一个菜单、一座房子、整个关卡，或者任何你能想到的东西。Godot 的场景很灵活，既能够充当预制件（Prefab），又能够用作其他游戏引擎中的场景。

### 节点
场景由若干节点组成。节点是你的游戏最小的构件，你将其排列成树状。

### 场景树

### 信号
信号是 Godot 版的观察者模式

## GDScript

# 对节点结构的思考
节点结构让我们可以利用一切皆是节点来实现重复利用的组件  
以直接的树形依赖来构建游戏

# 脚本编写

## 命名规范
GDScript 的命名规范如下：

1. **类名**：帕斯卡命名法（PascalCase），如 `PlayerController`。
2. **变量名**：蛇形命名法（snake_case），如 `player_health`。
3. **常量**：全大写字母，使用下划线分隔，如 `MAX_HEALTH`。
4. **函数名**：蛇形命名法，如 `move_player`。
5. **信号名**：蛇形命名法，如 `health_changed`。
6. **文件名**：蛇形命名法，脚本、资源文件尽量与类名对应。
7. **布尔变量**：用 `is_` 或 `has_` 开头，如 `is_alive`、`has_key`。

## 检测输入使用Input单例

## Godot的观察者模式——信号signals

Godot 将信号连接的配置信息保存在场景文件中，保证场景加载时能够恢复信号的连接状态。  

## 获得依赖类的引用
Godot主要通过查询子类节点的方式获得引用  
所以在构建游戏依赖关系的适合，以类树形的结构来构建，可以很方便的获得依赖  
$ 是一个类似url的路径，从当前位置开始

# 问题
方法后面的->void是指定返回类型的意思  
子类如何获得父类的引用？

## Debug问题

### 无法实时查看脚本数据的变化
godot将数据可视化后，再运行游戏，脚本的数据无法可视化的在编辑器当中显示，这对于调试和debug不利。

### 以信号事件为核心的游戏触发逻辑
使用信号来触发各种游戏逻辑，导致debug过程中，不明确触发bug的源头是什么。  
可能是因为不太习惯吧  
debug逻辑顺序（设计到信号的触发）：  
找到问题回调->反向查找回调观察的信号->信号的触发条件->触发信号条件的逻辑都有哪些->检查触发这个信号的方法的信号->以此类推  
层层嵌套，难以寻找问题源头 

