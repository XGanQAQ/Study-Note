在数据库设计中，**主键**和**外键**是关系数据库中两个重要的约束，用于保证数据的完整性和关联性。以下是如何选择和设置主键与外键的原则：

---

### **1. 主键（Primary Key）**
#### 定义
主键是表中的一个或多个属性，用于唯一标识表中的每一行记录。

#### 设置主键的原则
1. **唯一性**：主键必须能够唯一标识每一行记录，不能重复。
2. **非空性**：主键中的所有字段都不能包含 NULL 值。
3. **稳定性**：主键的值应当保持稳定，不应该频繁更改。
4. **简洁性**：尽量选择少量字段作为主键，避免使用过多列。
5. **必要性**：如果没有合适的自然键，可以使用自增字段（如 `id`）作为主键，称为**代理键**。

#### 常见选择
- **自然键**：实际业务中自然唯一的字段（如身份证号、学号、邮箱）。
  - 优点：易理解，直接与业务挂钩。
  - 缺点：可能较长或易变（如手机号）。
- **代理键**：没有实际业务意义的唯一标识（如自增整数或 UUID）。
  - 优点：简洁且稳定。
  - 缺点：可能缺乏直观意义。

#### 示例
1. **员工表**：  
   主键选择员工编号（`EmployeeID`）：
   | EmployeeID | Name    | Department |
   |------------|---------|------------|
   | 1          | 张三    | 销售部     |
   | 2          | 李四    | 技术部     |

2. **订单表**：  
   主键可以是订单编号（`OrderID`）：
   | OrderID | CustomerID | OrderDate |
   |---------|------------|-----------|
   | 1001    | 1          | 2024-11-25|

---

### **2. 外键（Foreign Key）**
#### 定义
外键是表中的一个或多个属性，用于建立表与表之间的关系，引用另一个表的主键。

#### 设置外键的原则
1. **引用性**：外键必须引用另一个表的主键或唯一键。
2. **数据一致性**：外键值必须在引用表中存在，或允许为 NULL（取决于需求）。
3. **关系清晰**：外键用于建立表与表之间的逻辑关系（如一对多、多对多）。
4. **限制行为**：设置外键时，可以配置级联操作（如**删除或更新**时同步修改）。

#### 外键常见用途
- 建立一对多关系（如“学生表”与“班级表”）。
- 建立多对多关系（通过中间表实现）。

#### 示例
1. **学生表**与**班级表**的关系：
   - 学生表中的 `ClassID` 是班级表的外键，引用班级表的主键 `ClassID`：
   
   **班级表（Classes）：**
   | ClassID | ClassName |
   |---------|-----------|
   | 101     | 一班       |
   | 102     | 二班       |

   **学生表（Students）：**
   | StudentID | Name  | ClassID |
   |-----------|-------|---------|
   | 1         | 张三  | 101     |
   | 2         | 李四  | 102     |

2. **订单表**与**客户表**的关系：
   - 订单表中的 `CustomerID` 是外键，引用客户表的主键 `CustomerID`。

   **客户表（Customers）：**
   | CustomerID | Name   |
   |------------|--------|
   | 1          | 王五   |
   | 2          | 赵六   |

   **订单表（Orders）：**
   | OrderID | CustomerID | OrderDate |
   |---------|------------|-----------|
   | 1001    | 1          | 2024-11-25 |
   | 1002    | 2          | 2024-11-26 |

---

### **主键与外键的区别**
| 特性         | 主键                             | 外键                            |
|--------------|----------------------------------|---------------------------------|
| 目的         | 唯一标识表中记录                 | 建立表与表之间的关系            |
| 唯一性       | 必须唯一                         | 不要求唯一，可以重复            |
| 允许空值     | 不允许                           | 可以允许（具体视业务需求而定）   |
| 引用性       | 不引用其他表                     | 引用另一个表的主键或唯一键      |
| 作用         | 保证记录的唯一性和完整性         | 保证数据的一致性和完整性        |

---

### **总结**
- **主键**选择能够唯一标识记录的字段，如 `ID` 或自然唯一字段。
- **外键**选择用于关联表的字段，如引用其他表的主键。
- 在设计数据库时，仔细选择主键和外键，不仅有助于数据的规范化，还能有效防止数据错误并优化查询效率。