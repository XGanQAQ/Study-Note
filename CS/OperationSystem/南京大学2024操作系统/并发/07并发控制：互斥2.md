## 回顾
stop the world 互斥

## 操作系统内核的互斥

关中断+自旋

自旋锁遇到中断，可能会导致的死锁问题，锁的过程中不可中断
多个锁，遇到中断

中断状态何处保存？

## xv6 自旋锁
复杂系统中，自己编写测试用例，来告诉你自己你的代码是否正确

## Read-Copy-Update
自旋锁的性能差 scale ability 差

读写不对称
读多于写
使用RCU
copy on write
牺牲读写一致性，复制修改，多版本。