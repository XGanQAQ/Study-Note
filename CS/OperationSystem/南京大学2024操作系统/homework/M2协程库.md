# 协程库 libco

## 目标 使用一个操作系统线程实现主动切换的多个执行流
实现协程
要求
- 被 co_start() 调用，从头开始运行；
- 在运行到中途时，调用 co_yield() 被 “切换” 出去；
- 稍后有其他协程调用 co_yield() 后，选择一个先前被切换的协程继续执行。

## 做什么
- 实现 co.h的协程API
    - 启动协程 co_start
        -  为启动的协程分配内存 malloc
    - 协程等待 co_wait
        - 等待被等待的协程执行完成后才能继续执行
        - 记得在被等待的协程完成后，释放其内存
    - 协程切换 co_yield
        - 暂时放弃执行、随机切换下一关可运行的协程

## 怎么做
1. 我需要实现的功能
2. 实现的途径及其理论知识
3. 具体代码的编写

## API的实现
### co_yield
既然要随机切换，那么从哪里获得可运行的协程信息呢？
如何保存/切换当前方法运行的状态？使用汇编保存/切换，但是我不会汇编啊！用汇编把cpu的状态保存下来


## 遇到的问题
### c语言的方法的参数语法
**void *arg无类型指针**：
允许函数接受任意类型的指针参数。
在需要处理多种数据类型的场景中非常有用。
根据程序上下文来决定如何处理这个参数。

### 什么是协程？它和线程的本质区别是什么？
> 一个类比
线程像是一个工厂中的多个工人，每个工人独立工作，由厂长（操作系统）调度。
协程像是一个工人同时处理多个任务，工人自己决定先做哪个任务，做完一部分后切换到另一个任务。

### 异步与同步
同步：一步一步执行

异步：同时执行

### 汇编语言

